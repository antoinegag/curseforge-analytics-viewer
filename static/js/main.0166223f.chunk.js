(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,a,t){e.exports=t(286)},285:function(e,a,t){},286:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(36),o=t.n(r),i=t(133),c=t(20),s=t(21),u=t(23),d=t(22),m=t(24),p=t(25),h=t(121),E=t.n(h),f=t(62),y=t(295),b=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={stats:null},t.fileReader=new FileReader,t.handleFileChosen=t.handleFileChosen.bind(Object(p.a)(Object(p.a)(t))),t.handleFileRead=t.handleFileRead.bind(Object(p.a)(Object(p.a)(t))),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"handleFileRead",value:function(e){var a,t=e.currentTarget.result;E.a.parse(t,{complete:function(e){return a=e}}),this.props.onData(a)}},{key:"handleFileChosen",value:function(e){if(e){var a=new FileReader;a.onloadend=this.handleFileRead,a.readAsText(e)}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"mt-1"},l.a.createElement(f.a,{pointing:"below"},"Find analytics data at ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"//minecraft.curseforge.com/dashboard/projects"},"https://minecraft.curseforge.com/dashboard/projects")),l.a.createElement("br",null),l.a.createElement(y.a,{type:"file",id:"file",className:"input-file",accept:".csv",onChange:function(a){return e.handleFileChosen(a.target.files[0])}}))}}]),a}(l.a.Component),v=t(132);var w=t(296),g=t(38),j=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(w.a,{style:{minHeight:"50px"},inverted:!0,attached:!0},l.a.createElement(w.a.Item,null,l.a.createElement(g.a,{color:"orange",name:"pie graph",size:"big"}),"CurseForge Analtytics Viewer"),l.a.createElement(w.a.Menu,{position:"right"},l.a.createElement(w.a.Item,{href:"//github.com/antoinegag/curseforge-analytics-viewer/blob/master/README.md#privacy"},l.a.createElement(g.a,{name:"privacy",size:"large"})," Privacy"),l.a.createElement(w.a.Item,{href:"//github.com/antoinegag/curseforge-analytics-viewer"},l.a.createElement(g.a,{name:"github",size:"large"})," Source Code")))}}]),a}(l.a.Component),O=t(294),D=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.fields,t=e.stats;return l.a.createElement(O.a,null,l.a.createElement(O.a.Header,null,l.a.createElement(O.a.Row,null,a.map(function(e){return l.a.createElement(O.a.HeaderCell,null,e)}))),l.a.createElement(O.a.Body,null,t.map(function(e){return l.a.createElement(O.a.Row,null,Object.entries(e).map(function(e){return l.a.createElement(O.a.Cell,null,e[1])}))})))}}]),a}(l.a.Component),k=t(86),F=t.n(k),C=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"renderPlot",value:function(e,a,t,n){return l.a.createElement("div",{className:"plot-container"},l.a.createElement(F.a,{useResizeHandler:!0,data:[{x:a,y:t,type:"scatter",mode:"lines+points",marker:{color:n||"red"}}],layout:{title:e,autosize:!0}}))}},{key:"renderDailyPoints",value:function(e){var a=this.props.stats;return this.renderPlot("Daily points",e,a.map(function(e){return e.points}))}},{key:"renderDownloads",value:function(e){var a=this.props.stats;return l.a.createElement("div",{className:"plot-container"},l.a.createElement(F.a,{useResizeHandler:!0,data:[{x:e,y:a.map(function(e){return e.dailyCurseForgeDownload}),name:"Daily CurseForge Download",type:"scatter",mode:"lines+points",marker:{color:"orange"},stackgroup:"one"},{x:e,y:a.map(function(e){return e.dailyTwitchAppDownload}),name:"Daily Twitch App Download",type:"scatter",mode:"lines+points",marker:{color:"purple"},stackgroup:"one"},{x:e,y:a.map(function(e){return e.dailyDownload}),name:"Daily downloads",type:"scatter",mode:"lines+points",marker:{color:"green"}}],layout:{title:"Downloads",autosize:!0}}))}},{key:"renderHistoricalDownload",value:function(e){var a=this.props.stats;return this.renderPlot("Historical Download",e,a.map(function(e){return e.historicalDownload}),"red")}},{key:"render",value:function(){var e=this.props.stats.map(function(e){return e.date});return l.a.createElement("div",null,this.renderDailyPoints(e),this.renderDownloads(e),this.renderHistoricalDownload(e))}}]),a}(l.a.Component),A=t(298),x=t(292),R=t(293),z=t(297),I=function(e){e.project,e.fields;for(var a=e.stats,t=0,n=0,r=0,o=0,i=0;i<a.length;i++){var c=a[i];t+=c.points,n+=c.dailyDownload,r+=c.dailyCurseForgeDownload,o+=c.dailyTwitchAppDownload}var s=n/a[0].historicalDownload*100,u=t/a.length,d=n/a.length,m=r/n*100,p=o/n*100;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(A.a,{as:"h2"},"Points"),l.a.createElement(z.a.Group,{size:"tiny"},l.a.createElement(z.a,null,l.a.createElement(z.a.Value,null,t.toFixed(2)),l.a.createElement(z.a.Label,null,"Total")),l.a.createElement(z.a,null,l.a.createElement(z.a.Value,null,u.toFixed(2)),l.a.createElement(z.a.Label,null,"Daily average")))),l.a.createElement("div",{className:"mt-1"},l.a.createElement(A.a,{as:"h2"},"Downloads"),l.a.createElement(z.a.Group,{size:"small"},l.a.createElement(z.a,null,l.a.createElement(z.a.Value,null,n),l.a.createElement(z.a.Label,null,"Total")),l.a.createElement(z.a,null,l.a.createElement(z.a.Value,null,d.toFixed(2)),l.a.createElement(z.a.Label,null,"Daily average")),l.a.createElement(z.a,null,l.a.createElement(z.a.Value,null,s.toFixed(2),"%"),l.a.createElement(z.a.Label,null,"Growth"))),l.a.createElement(z.a.Group,{size:"small"},l.a.createElement(z.a,{color:"purple"},l.a.createElement(z.a.Value,null,p.toFixed(2),"%"),l.a.createElement(z.a.Label,null,"from Twitch App")),l.a.createElement(z.a,{color:"orange"},l.a.createElement(z.a.Value,null,m.toFixed(2),"%"),l.a.createElement(z.a.Label,null,"from Curse")))))},T=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={fields:null,stats:null},t.handleAnalytics=t.handleAnalytics.bind(Object(p.a)(Object(p.a)(t))),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"handleAnalytics",value:function(e){this.setState(Object(i.a)({},function(e){var a=Object(v.a)(e),t=a[0];t.splice(1,2),a.shift(),a.pop();var n=[],l={name:a[1][2],id:a[1][1]};return a.forEach(function(e){var a={date:e[0],points:parseFloat(e[3]),historicalDownload:parseInt(e[4]),dailyDownload:parseInt(e[5]),dailyUniqueDownload:parseInt(e[6]),dailyTwitchAppDownload:parseInt(e[7]),dailyCurseForgeDownload:parseInt(e[8])};n.push(a)}),{project:l,fields:t,stats:n}}(e.data)))}},{key:"renderAnalytics",value:function(){var e=this.state,a=e.project,t=e.fields,n=e.stats,r={start:n[0].date,end:n[n.length-1].date};return l.a.createElement("div",{style:{marginLeft:"1rem",marginRight:"1rem"}},l.a.createElement(A.a,{as:"h2"},l.a.createElement(g.a,{name:"chart line"}),l.a.createElement(A.a.Content,null,a.name,l.a.createElement(A.a.Subheader,null,"ID ",a.id))),l.a.createElement(A.a,{as:"h3"},l.a.createElement(g.a,{name:"calendar alternate outline"}),r.start," to ",r.end," (",n.length-1," days)"),l.a.createElement(x.a,null),l.a.createElement(I,{project:a,fields:t,stats:n}),l.a.createElement(C,{fields:t,stats:n}),l.a.createElement(A.a,{as:"h2"},l.a.createElement(g.a,{name:"database"}),"Raw data"),l.a.createElement(D,{fields:t,stats:n}))}},{key:"render",value:function(){var e=this.state.stats;return l.a.createElement("div",null,l.a.createElement(j,null),l.a.createElement(R.a,{textAlign:"center"},l.a.createElement(b,{onData:this.handleAnalytics}),l.a.createElement("b",null,"Note:")," your file is ",l.a.createElement("strong",null,"NOT")," uploaded to any server."),e&&this.renderAnalytics())}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(285);o.a.render(l.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[142,1,2]]]);
//# sourceMappingURL=main.0166223f.chunk.js.map