(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,a,t){e.exports=t(300)},299:function(e,a,t){},300:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(41),o=t.n(r),i=t(22),c=t(23),s=t(25),u=t(24),m=t(26),d=t(27),p=t(132),h=t.n(p),E=t(67),y=t(309),f=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={stats:null},t.fileReader=new FileReader,t.handleFileChosen=t.handleFileChosen.bind(Object(d.a)(Object(d.a)(t))),t.handleFileRead=t.handleFileRead.bind(Object(d.a)(Object(d.a)(t))),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"handleFileRead",value:function(e){var a,t=e.currentTarget.result;h.a.parse(t,{complete:function(e){return a=e}}),this.props.onData(a)}},{key:"handleFileChosen",value:function(e){if(e){var a=new FileReader;a.onloadend=this.handleFileRead,a.readAsText(e)}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"mt-1"},l.a.createElement(E.a,{pointing:"below"},"Find analytics data at ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"//minecraft.curseforge.com/dashboard/projects"},"https://minecraft.curseforge.com/dashboard/projects")),l.a.createElement("br",null),l.a.createElement(y.a,{type:"file",id:"file",className:"input-file",accept:".csv",onChange:function(a){return e.handleFileChosen(a.target.files[0])}}))}}]),a}(l.a.Component),g=t(146);function w(e){var a=Object(g.a)(e),t=a[0];t.splice(1,2),a.shift(),a.pop();var n=[],l={name:a[1][2],id:a[1][1]},r=0,o=0,i=0,c=0,s=0;a.forEach(function(e){var a={date:e[0],points:parseFloat(e[3]),historicalDownload:parseInt(e[4]),dailyDownload:parseInt(e[5]),dailyUniqueDownload:parseInt(e[6]),dailyTwitchAppDownload:parseInt(e[7]),dailyCurseForgeDownload:parseInt(e[8])};r+=a.points,o+=a.dailyDownload,i+=a.dailyUniqueDownload,c+=a.dailyCurseForgeDownload,s+=a.dailyTwitchAppDownload,n.push(a)});var u=r/n.length,m={curseDownloadSum:c,twitchDownloadSum:s,pointSum:r,downloadSum:o,uniqueDownloadSum:i,cursePercentage:c/o*100,twitchPercentage:s/o*100,pointDailyAverage:u,estimatedRevenues:.05*r,dailyEstimatedRevenues:.05*u,growth:o/n[0].historicalDownload*100,downloadDailyAverage:o/n.length,uniqueness:i/o*100};return{project:l,fields:t,stats:n,summary:m}}var v=t(310),b=t(43),D=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(v.a,{style:{minHeight:"50px"},inverted:!0,attached:!0},l.a.createElement(v.a.Item,null,l.a.createElement(b.a,{color:"orange",name:"pie graph",size:"big"}),"CurseForge Analtytics Viewer"),l.a.createElement(v.a.Menu,{position:"right"},l.a.createElement(v.a.Item,{href:"//github.com/antoinegag/curseforge-analytics-viewer/blob/master/README.md#privacy"},l.a.createElement(b.a,{name:"privacy",size:"large"})," Privacy"),l.a.createElement(v.a.Item,{href:"//github.com/antoinegag/curseforge-analytics-viewer"},l.a.createElement(b.a,{name:"github",size:"large"})," Source Code")))}}]),a}(l.a.Component),j=t(307),O=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props,a=e.fields,t=e.stats;return l.a.createElement(j.a,null,l.a.createElement(j.a.Header,null,l.a.createElement(j.a.Row,null,a.map(function(e){return l.a.createElement(j.a.HeaderCell,null,e)}))),l.a.createElement(j.a.Body,null,t.map(function(e){return l.a.createElement(j.a.Row,null,Object.entries(e).map(function(e){return l.a.createElement(j.a.Cell,null,e[1].toLocaleString())}))})))}}]),a}(l.a.Component),k=t(90),F=t.n(k),S=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"renderPlot",value:function(e,a,t,n){return l.a.createElement("div",{className:"plot-container"},l.a.createElement(F.a,{useResizeHandler:!0,data:[{x:a,y:t,type:"scatter",mode:"lines+points",marker:{color:n||"red"}}],layout:{title:e,autosize:!0}}))}},{key:"renderDailyPoints",value:function(e){var a=this.props.stats;return this.renderPlot("Daily points",e,a.map(function(e){return e.points}))}},{key:"renderDownloads",value:function(e){var a=this.props.stats;return l.a.createElement("div",{className:"plot-container"},l.a.createElement(F.a,{useResizeHandler:!0,data:[{x:e,y:a.map(function(e){return e.dailyCurseForgeDownload}),name:"Daily CurseForge Download",type:"scatter",mode:"lines+points",marker:{color:"orange"},stackgroup:"one"},{x:e,y:a.map(function(e){return e.dailyTwitchAppDownload}),name:"Daily Twitch App Download",type:"scatter",mode:"lines+points",marker:{color:"purple"},stackgroup:"one"},{x:e,y:a.map(function(e){return e.dailyUniqueDownload}),name:"Unique downloads",type:"scatter",mode:"lines+points",marker:{color:"red"}},{x:e,y:a.map(function(e){return e.dailyDownload}),name:"Daily downloads",type:"scatter",mode:"lines+points",marker:{color:"green"}}],layout:{title:"Downloads",autosize:!0}}))}},{key:"renderHistoricalDownload",value:function(e){var a=this.props.stats;return this.renderPlot("Historical Download",e,a.map(function(e){return e.historicalDownload}),"red")}},{key:"render",value:function(){var e=this.props.stats.map(function(e){return e.date});return l.a.createElement("div",null,this.renderDailyPoints(e),this.renderDownloads(e),this.renderHistoricalDownload(e))}}]),a}(l.a.Component),C=t(312),A=t(305),L=t(306),R=t(311),x=t(313),q=function(e){var a=e.analytics,t=(a.project,a.fields,a.stats,a.summary),n=t.pointSum,r=t.downloadSum,o=t.uniqueDownloadSum,i=t.cursePercentage,c=t.twitchPercentage,s=(t.curseDownloadSum,t.twitchDownloadSum,t.pointDailyAverage),u=t.estimatedRevenues,m=t.dailyEstimatedRevenues,d=t.growth,p=t.downloadDailyAverage,h=t.uniqueness;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(C.a,{as:"h2"},"Points"),l.a.createElement(R.a.Group,{size:"tiny"},l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,n.toLocaleString()),l.a.createElement(R.a.Label,null,"Total")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),l.a.createElement(R.a.Label,null,"Daily average")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,"$",u.toFixed(2)," USD"),l.a.createElement(R.a.Label,null,"Estimated revenues",l.a.createElement(x.a,{trigger:l.a.createElement(b.a,{name:"question circle"}),content:"Calculated on a 1pts to $0.05 USD rate"}))),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,"$",m.toFixed(2)," USD"),l.a.createElement(R.a.Label,null,"Daily estimated revenues",l.a.createElement(x.a,{trigger:l.a.createElement(b.a,{name:"question circle"}),content:"Calculated on a 1pts to $0.05 USD rate"}))))),l.a.createElement("div",{className:"mt-1"},l.a.createElement(C.a,{as:"h2"},"Downloads"),l.a.createElement(R.a.Group,{size:"tiny"},l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,r.toLocaleString()),l.a.createElement(R.a.Label,null,l.a.createElement(b.a,{name:"download"}),"Total")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,p.toLocaleString(void 0,{maximumFractionDigits:0})),l.a.createElement(R.a.Label,null,"Daily average")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,o.toLocaleString()),l.a.createElement(R.a.Label,null,"Total unique")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,h.toFixed(1),"%"),l.a.createElement(R.a.Label,null,"Uniqueness")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,d.toFixed(1),"%"),l.a.createElement(R.a.Label,null,l.a.createElement(b.a,{name:"rocket"}),"Growth"))),l.a.createElement(R.a.Group,{size:"tiny"},l.a.createElement(R.a,{color:"purple"},l.a.createElement(R.a.Value,null,c.toFixed(1),"%"),l.a.createElement(R.a.Label,null,"from Twitch App",l.a.createElement(b.a,{name:"twitch"}))),l.a.createElement(R.a,{color:"orange"},l.a.createElement(R.a.Value,null,i.toFixed(1),"%"),l.a.createElement(R.a.Label,null,"from Curse",l.a.createElement(b.a,{name:"fire"}))))))},V=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={analytics:null},t.handleAnalytics=t.handleAnalytics.bind(Object(d.a)(Object(d.a)(t))),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"handleAnalytics",value:function(e){this.setState({analytics:w(e.data)})}},{key:"renderAnalytics",value:function(){var e=this.state.analytics,a=e.project,t=e.fields,n=e.stats,r={start:n[0].date,end:n[n.length-1].date};return l.a.createElement("div",{style:{marginLeft:"1rem",marginRight:"1rem"}},l.a.createElement(C.a,{as:"h2"},l.a.createElement(b.a,{name:"chart line"}),l.a.createElement(C.a.Content,null,a.name,l.a.createElement(C.a.Subheader,null,"Id. ",a.id))),l.a.createElement(C.a,{as:"h3"},l.a.createElement(b.a,{name:"calendar alternate outline"}),r.start," to ",r.end," (",n.length-1," days)"),l.a.createElement(A.a,null),l.a.createElement(q,{analytics:this.state.analytics}),l.a.createElement(S,{fields:t,stats:n}),l.a.createElement(C.a,{as:"h2"},l.a.createElement(b.a,{name:"database"}),"Raw data"),l.a.createElement(O,{fields:t,stats:n}))}},{key:"render",value:function(){var e=this.state.analytics;return l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(L.a,{textAlign:"center"},l.a.createElement(f,{onData:this.handleAnalytics}),l.a.createElement("b",null,"Note:")," your file is ",l.a.createElement("strong",null,"NOT")," uploaded to any server."),e&&this.renderAnalytics())}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(299);o.a.render(l.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[156,1,2]]]);
//# sourceMappingURL=main.5a384185.chunk.js.map