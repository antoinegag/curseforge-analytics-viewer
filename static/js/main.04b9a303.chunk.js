(this["webpackJsonpcurseforge-analytics-viewer"]=this["webpackJsonpcurseforge-analytics-viewer"]||[]).push([[0],{239:function(e,a,t){e.exports=t(400)},244:function(e,a,t){},246:function(e,a,t){},400:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(183),o=t.n(r),c=(t(244),t(13)),s=t(12),i=t.n(s),m=t(80),d=t(24),u=t(11),f=t(36),p=t.n(f),g=(t(246),t(199)),v=t(185),E=t.n(v),h=t(49);function w(e){var a=e.className,t=e.onUpload,r=Object(n.useState)(),o=Object(c.a)(r,2),s=o[0],d=o[1],u=Object(n.useCallback)(function(){var e=Object(m.a)(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a[0]){e.next=2;break}return e.abrupt("return");case 2:n=a[0],d(n),t&&t(n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[t]),f=Object(g.a)({onDrop:u}),v=f.getRootProps,w=f.getInputProps,b=f.isDragActive;return s?l.a.createElement("div",{className:"flex items-center"},l.a.createElement(h.b,{size:24}),s.name):l.a.createElement("div",Object.assign({},v(),{className:p()(a,"drop-zone")}),l.a.createElement("input",w()),b?l.a.createElement(E.a,{type:"Rings",color:"#DD5F18",height:200,width:200}):l.a.createElement("div",{className:"text-xl text-center my-2"},"Drop export here or",l.a.createElement("br",null),l.a.createElement("span",{className:"underline cursor-pointer"},"choose a file")))}function b(e){var a=e.children,t=e.href,n=Object(u.f)();return l.a.createElement("div",{className:"text-xl font-brand"},l.a.createElement(d.b,{to:t,className:p()("no-underline",n.pathname===t?"bracket-active":"bracket")},a))}function y(){return l.a.createElement("div",{className:"flex items-center flex-wrap"},l.a.createElement("div",{className:"flex-grow"},l.a.createElement(d.b,{to:"/",className:"no-underline flex items-center flex-grow"},l.a.createElement("img",{src:"/logo-bg.png",width:"100",className:"rounded-full mr-4 hidden md:block",alt:"CurseForge Analytics logo"}),l.a.createElement("h1",{className:"font-brand flex flex-wrap"},"CurseForge",l.a.createElement("div",{className:"font-bold slide-right ml-2"},l.a.createElement("p",null,"Analytics"))))),l.a.createElement("div",{className:"w-full lg:w-auto lg:text-right mt-2 flex flex-col",style:{direction:"rtl"}},l.a.createElement(b,{href:"/privacy"},"Privacy"),l.a.createElement(b,{href:"/help"},"Help"),l.a.createElement(b,{href:"/contact"},"Contact")))}var N=t(200),x=t(187),D=t.n(x);function S(e){return new Promise((function(a,t){D.a.parse(e,{complete:function(e){a(e)}})}))}function k(e){var a=Object(N.a)(e),t=a[0];t.splice(1,2),a.shift(),a.pop();var n=[],l={name:a[1][2],id:a[1][1]},r=0,o=0,c=0,s=0,i=0;a.forEach((function(e){var a={date:e[0],points:parseFloat(e[3]),historicalDownload:parseInt(e[4]),dailyDownload:parseInt(e[5]),dailyUniqueDownload:parseInt(e[6]),dailyTwitchAppDownload:parseInt(e[7]),dailyCurseForgeDownload:parseInt(e[8])};r+=a.points,o+=a.dailyDownload,c+=a.dailyUniqueDownload,s+=a.dailyCurseForgeDownload,i+=a.dailyTwitchAppDownload,n.push(a)}));var m=r/n.length,d={curseDownloadSum:s,twitchDownloadSum:i,pointSum:r,downloadSum:o,uniqueDownloadSum:c,cursePercentage:s/o*100,twitchPercentage:i/o*100,pointDailyAverage:m,growth:o/n[0].historicalDownload*100,downloadDailyAverage:o/n.length,uniqueness:c/o*100};return{project:l,fields:t,stats:n,summary:d}}var F=t(188);function j(e){var a=e.value;return"number"===typeof a?l.a.createElement(l.a.Fragment,null,a.toLocaleString()):l.a.createElement(l.a.Fragment,null,a)}function C(e){var a=e.data,t=e.height,n=void 0===t?400:t,r=e.color,o=void 0===r?"#DD5F18":r,c=e.ValueRenderer,s=void 0===c?j:c;return l.a.createElement("div",{style:{height:n}},l.a.createElement(F.a,{data:a,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"time",useUTC:!1,format:"%Y-%m-%d",precision:"day"},yScale:{type:"linear",min:"auto",max:"auto"},tooltip:function(e){var a=e.point,t=a.data.x;return l.a.createElement("div",{className:"bg-gray-100 p-2 border border-gray-500"},l.a.createElement("div",null,"".concat(t.getDay(),"-").concat(t.getMonth(),"-").concat(t.getFullYear())),l.a.createElement("div",null,l.a.createElement(s,{value:a.data.y})))},enablePoints:!1,enableGridX:!1,axisBottom:{format:function(e){var a=e;return"".concat(a.getFullYear(),"/").concat(a.getMonth()+1)}},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legendOffset:-40,legendPosition:"middle"},colors:o,pointColor:{theme:"background"},pointBorderColor:{from:"serieColor"},useMesh:!0}))}function O(e){var a=e.title,t=e.stats,n=e.field,r=e.className,o=e.color,c=void 0===o?"#DD5F18":o,s=e.ValueRenderer,i=[{id:a,color:c,data:t.map((function(e){return{x:e.date,y:e[n]}}))}];return l.a.createElement("div",{className:p()("flex flex-col",r)},l.a.createElement("h3",null,a),l.a.createElement("div",{className:"h-full flex-grow"},l.a.createElement(C,{data:i,ValueRenderer:s,color:c})))}function A(e){var a=e.analytics,t=a.stats,n=a.project,r=a.summary;return l.a.createElement("div",null,l.a.createElement("div",{className:"text-center"},l.a.createElement("h2",null,l.a.createElement("span",{className:"font-semibold"},n.name)),l.a.createElement("div",null,l.a.createElement("span",{className:"font-bold"},t[0].date)," to"," ",l.a.createElement("span",{className:"font-bold"},t[t.length-1].date))),l.a.createElement("div",{className:"p-5"},l.a.createElement("div",{className:"text-center text-lg flex items-center justify-center lg:w-3/4 mx-auto flex-wrap"},l.a.createElement("div",{className:"w-1/2 md:w-1/3 lg:w-1/5"},l.a.createElement("div",{className:"font-bold text-2xl"},r.growth.toFixed(0),"%"),"Download growth"),l.a.createElement("div",{className:"w-1/2 md:w-1/3 lg:w-1/5"},l.a.createElement("div",{className:"font-bold text-2xl"},r.downloadDailyAverage.toLocaleString(void 0,{maximumFractionDigits:0})),"Daily downloads avg."),l.a.createElement("div",{className:"w-1/2 md:w-1/3 lg:w-1/5"},l.a.createElement("div",null,l.a.createElement("div",{className:"font-bold"},r.pointSum.toFixed(2)),"(",l.a.createElement("span",{className:"font-bold"},"$",(.05*r.pointSum).toFixed(2)," USD"),")"),"Points earned"),l.a.createElement("div",{className:"w-1/2 md:w-1/3 lg:w-1/5"},l.a.createElement("div",{className:"font-bold text-2xl"},r.pointDailyAverage.toFixed(2)),l.a.createElement("div",null,"(",l.a.createElement("span",{className:"font-bold"},"$",(.05*r.pointDailyAverage).toFixed(2)," USD"),")"),"Daily points avg."),l.a.createElement("div",{className:"w-1/2 md:w-1/3 lg:w-1/5"},l.a.createElement("div",{className:"font-bold text-2xl"},t.length," days"),"Period"))),l.a.createElement(O,{stats:a.stats,field:"points",title:"Daily points",className:"mb-6",ValueRenderer:function(e){var a=e.value;return l.a.createElement(l.a.Fragment,null,a," (","".concat((.05*parseFloat(a)).toFixed(2))," ","USD)")}}),l.a.createElement(O,{stats:a.stats,field:"dailyDownload",title:"Daily downloads",className:"mb-6"}),l.a.createElement(O,{stats:a.stats,field:"historicalDownload",title:"Downloads over time",className:"mb-6"}))}function P(e){var a=e.children;return l.a.createElement("div",{className:"lg:w-2/3 mx-5 lg:mx-auto"},l.a.createElement("div",{className:"mb-2 flex items-center"},l.a.createElement(h.a,{size:16}),l.a.createElement(d.b,{to:"/",className:"no-underline bracket"},"Home")),a)}function U(){return l.a.createElement(P,null,l.a.createElement("h2",{className:"mb-3"},"Privacy"),l.a.createElement("div",{className:"mb-3"},l.a.createElement("h3",{className:"mb-3"},"Data"),l.a.createElement("div",{className:"mb-3"},l.a.createElement("h4",{className:"mb-1"},"Usage"),l.a.createElement("p",null,"The data uploaded to this app is only used to generate statistics and display them.")),l.a.createElement("div",{className:"mb-3"},l.a.createElement("h4",null,"Collection"),l.a.createElement("p",null,"No data is collected by the application. Export data, raw and processed is never sent to any remote server or parties.")),l.a.createElement("div",{className:"mb-3"},l.a.createElement("h4",null,"Sharing"),l.a.createElement("p",null,"No data is ever shared with any third party."))),l.a.createElement("div",null,l.a.createElement("p",null,"This privacy policy is subject to change at any time"),l.a.createElement("p",null,"Last update: ",l.a.createElement("span",{className:"font-bold"},"2020-09-27")),l.a.createElement(d.b,{to:"/contact"},"Contact")))}function I(){return l.a.createElement(P,null,l.a.createElement("h2",{className:"mb-3"},"Help"),l.a.createElement("div",{className:"mb-3"},l.a.createElement("h3",{className:"mb-2"},"Getting your CurseForge export"),l.a.createElement("p",null,"Head to the"," ",l.a.createElement("a",{href:"https://minecraft.curseforge.com/dashboard/projects",target:"_blank",rel:"noopener noreferrer"},"CurseForge project dashboard")," ","and click on the"," ",l.a.createElement("span",{className:"bg-green-600 p-2 text-white rounded-lg"},"Download")," ","button in the Analytics column.")),l.a.createElement("div",{className:"mb-3"},l.a.createElement("h3",{className:"mb-2"},"Something is wrong"),l.a.createElement("p",null,"For any issue please open an issue on"," ",l.a.createElement("a",{href:"https://github.com/antoinegag/curseforge-analytics-viewer/issues",target:"_blank",rel:"noopener noreferrer"},"Github")," ","or ",l.a.createElement(d.b,{to:"/contact"},"contact")," me")))}function R(){return l.a.createElement(P,null,l.a.createElement("h2",{className:"mb-3"},"Contact"),l.a.createElement("p",{className:"mb-4"},"Don't hesitate to get in touch if you have any question or concern."),l.a.createElement("div",{className:"mb-3"},l.a.createElement("h4",{className:"mb-2 flex items-center font-sans"},l.a.createElement(h.c,{size:32,className:"mr-2"}),l.a.createElement("a",{href:"mailto:cfa@antoineg.dev"},"cfa@antoineg.dev")),l.a.createElement("h4",{className:"mb-2 flex items-center font-sans"},"Twitter"," ",l.a.createElement("a",{className:"ml-2",href:"https://twitter.com/antoineg_dev",target:"_blank",rel:"noopener noreferrer"},"@antoineg_dev")," ")))}var T=function(){Object(n.useEffect)((function(){var e=localStorage.getItem("lastImport");null!=e&&v(JSON.parse(e))}),[]);var e=Object(n.useCallback)(function(){var e=Object(m.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,S(a);case 3:t=e.sent,n=k(t.data),v(n),localStorage.setItem("lastImport",JSON.stringify(n)),o(!1);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[]),a=Object(n.useState)(!1),t=Object(c.a)(a,2),r=t[0],o=t[1],s=Object(n.useState)(),f=Object(c.a)(s,2),g=f[0],v=f[1];return l.a.createElement(d.a,null,l.a.createElement("div",{className:"min-h-screen p-5 flex flex-col mx-2"},l.a.createElement("div",{className:"lg:w-2/3 mx-5 lg:mx-auto"},l.a.createElement(y,null),l.a.createElement("hr",{className:"my-5"})),l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/privacy"},l.a.createElement(U,null)),l.a.createElement(u.a,{path:"/help"},l.a.createElement(I,null)),l.a.createElement(u.a,{path:"/contact"},l.a.createElement(R,null)),l.a.createElement(u.a,{path:"/"},r&&l.a.createElement("div",null,"Loading"),!r&&g&&l.a.createElement(A,{analytics:g}),!r&&l.a.createElement(w,{className:p()({"flex-grow":!g}),onUpload:e})))))},W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(399);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(T,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/curseforge-analytics-viewer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/curseforge-analytics-viewer","/service-worker.js");W?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):L(a,e)}))}}()}},[[239,1,2]]]);
//# sourceMappingURL=main.04b9a303.chunk.js.map