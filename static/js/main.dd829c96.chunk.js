(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,a,t){e.exports=t(301)},300:function(e,a,t){},301:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(41),o=t.n(r),i=t(147),c=t(22),s=t(23),u=t(25),m=t(24),d=t(26),p=t(27),E=t(132),h=t.n(E),f=t(67),y=t(310),b=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={stats:null},t.fileReader=new FileReader,t.handleFileChosen=t.handleFileChosen.bind(Object(p.a)(Object(p.a)(t))),t.handleFileRead=t.handleFileRead.bind(Object(p.a)(Object(p.a)(t))),t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"handleFileRead",value:function(e){var a,t=e.currentTarget.result;h.a.parse(t,{complete:function(e){return a=e}}),this.props.onData(a)}},{key:"handleFileChosen",value:function(e){if(e){var a=new FileReader;a.onloadend=this.handleFileRead,a.readAsText(e)}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"mt-1"},l.a.createElement(f.a,{pointing:"below"},"Find analytics data at ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"//minecraft.curseforge.com/dashboard/projects"},"https://minecraft.curseforge.com/dashboard/projects")),l.a.createElement("br",null),l.a.createElement(y.a,{type:"file",id:"file",className:"input-file",accept:".csv",onChange:function(a){return e.handleFileChosen(a.target.files[0])}}))}}]),a}(l.a.Component),g=t(146);var v=t(311),w=t(43),D=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(v.a,{style:{minHeight:"50px"},inverted:!0,attached:!0},l.a.createElement(v.a.Item,null,l.a.createElement(w.a,{color:"orange",name:"pie graph",size:"big"}),"CurseForge Analtytics Viewer"),l.a.createElement(v.a.Menu,{position:"right"},l.a.createElement(v.a.Item,{href:"//github.com/antoinegag/curseforge-analytics-viewer/blob/master/README.md#privacy"},l.a.createElement(w.a,{name:"privacy",size:"large"})," Privacy"),l.a.createElement(v.a.Item,{href:"//github.com/antoinegag/curseforge-analytics-viewer"},l.a.createElement(w.a,{name:"github",size:"large"})," Source Code")))}}]),a}(l.a.Component),j=t(308),O=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.fields,t=e.stats;return l.a.createElement(j.a,null,l.a.createElement(j.a.Header,null,l.a.createElement(j.a.Row,null,a.map(function(e){return l.a.createElement(j.a.HeaderCell,null,e)}))),l.a.createElement(j.a.Body,null,t.map(function(e){return l.a.createElement(j.a.Row,null,Object.entries(e).map(function(e){return l.a.createElement(j.a.Cell,null,e[1])}))})))}}]),a}(l.a.Component),k=t(90),F=t.n(k),C=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(s.a)(a,[{key:"renderPlot",value:function(e,a,t,n){return l.a.createElement("div",{className:"plot-container"},l.a.createElement(F.a,{useResizeHandler:!0,data:[{x:a,y:t,type:"scatter",mode:"lines+points",marker:{color:n||"red"}}],layout:{title:e,autosize:!0}}))}},{key:"renderDailyPoints",value:function(e){var a=this.props.stats;return this.renderPlot("Daily points",e,a.map(function(e){return e.points}))}},{key:"renderDownloads",value:function(e){var a=this.props.stats;return l.a.createElement("div",{className:"plot-container"},l.a.createElement(F.a,{useResizeHandler:!0,data:[{x:e,y:a.map(function(e){return e.dailyCurseForgeDownload}),name:"Daily CurseForge Download",type:"scatter",mode:"lines+points",marker:{color:"orange"},stackgroup:"one"},{x:e,y:a.map(function(e){return e.dailyTwitchAppDownload}),name:"Daily Twitch App Download",type:"scatter",mode:"lines+points",marker:{color:"purple"},stackgroup:"one"},{x:e,y:a.map(function(e){return e.dailyUniqueDownload}),name:"Unique downloads",type:"scatter",mode:"lines+points",marker:{color:"red"}},{x:e,y:a.map(function(e){return e.dailyDownload}),name:"Daily downloads",type:"scatter",mode:"lines+points",marker:{color:"green"}}],layout:{title:"Downloads",autosize:!0}}))}},{key:"renderHistoricalDownload",value:function(e){var a=this.props.stats;return this.renderPlot("Historical Download",e,a.map(function(e){return e.historicalDownload}),"red")}},{key:"render",value:function(){var e=this.props.stats.map(function(e){return e.date});return l.a.createElement("div",null,this.renderDailyPoints(e),this.renderDownloads(e),this.renderHistoricalDownload(e))}}]),a}(l.a.Component),x=t(313),L=t(306),A=t(307),R=t(312),S=t(314),V=function(e){e.project,e.fields;for(var a=e.stats,t=0,n=0,r=0,o=0,i=0,c=0;c<a.length;c++){var s=a[c];t+=s.points,n+=s.dailyDownload,r+=s.dailyUniqueDownload,o+=s.dailyCurseForgeDownload,i+=s.dailyTwitchAppDownload}var u=t/a.length,m=.05*t,d=.05*u,p=n/a[0].historicalDownload*100,E=n/a.length,h=r/n*100,f=o/n*100,y=i/n*100;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(x.a,{as:"h2"},"Points"),l.a.createElement(R.a.Group,{size:"tiny"},l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,t.toLocaleString()),l.a.createElement(R.a.Label,null,"Total")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,u.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),l.a.createElement(R.a.Label,null,"Daily average")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,"$",m.toFixed(2)," USD"),l.a.createElement(R.a.Label,null,"Estimated revenues",l.a.createElement(S.a,{trigger:l.a.createElement(w.a,{name:"question circle"}),content:"Calculated on a 1pts to $0.05 USD rate"}))),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,"$",d.toFixed(2)," USD"),l.a.createElement(R.a.Label,null,"Daily estimated revenues",l.a.createElement(S.a,{trigger:l.a.createElement(w.a,{name:"question circle"}),content:"Calculated on a 1pts to $0.05 USD rate"}))))),l.a.createElement("div",{className:"mt-1"},l.a.createElement(x.a,{as:"h2"},"Downloads"),l.a.createElement(R.a.Group,{size:"tiny"},l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,n.toLocaleString()),l.a.createElement(R.a.Label,null,l.a.createElement(w.a,{name:"download"}),"Total")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,E.toLocaleString(void 0,{maximumFractionDigits:0})),l.a.createElement(R.a.Label,null,"Daily average")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,r.toLocaleString()),l.a.createElement(R.a.Label,null,"Total unique")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,h.toFixed(1),"%"),l.a.createElement(R.a.Label,null,"Uniqueness")),l.a.createElement(R.a,null,l.a.createElement(R.a.Value,null,p.toFixed(1),"%"),l.a.createElement(R.a.Label,null,l.a.createElement(w.a,{name:"rocket"}),"Growth"))),l.a.createElement(R.a.Group,{size:"tiny"},l.a.createElement(R.a,{color:"purple"},l.a.createElement(R.a.Value,null,y.toFixed(1),"%"),l.a.createElement(R.a.Label,null,"from Twitch App",l.a.createElement(w.a,{name:"twitch"}))),l.a.createElement(R.a,{color:"orange"},l.a.createElement(R.a.Value,null,f.toFixed(1),"%"),l.a.createElement(R.a.Label,null,"from Curse",l.a.createElement(w.a,{name:"fire"}))))))},T=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={fields:null,stats:null},t.handleAnalytics=t.handleAnalytics.bind(Object(p.a)(Object(p.a)(t))),t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"handleAnalytics",value:function(e){this.setState(Object(i.a)({},function(e){var a=Object(g.a)(e),t=a[0];t.splice(1,2),a.shift(),a.pop();var n=[],l={name:a[1][2],id:a[1][1]};return a.forEach(function(e){var a={date:e[0],points:parseFloat(e[3]),historicalDownload:parseInt(e[4]),dailyDownload:parseInt(e[5]),dailyUniqueDownload:parseInt(e[6]),dailyTwitchAppDownload:parseInt(e[7]),dailyCurseForgeDownload:parseInt(e[8])};n.push(a)}),{project:l,fields:t,stats:n}}(e.data)))}},{key:"renderAnalytics",value:function(){var e=this.state,a=e.project,t=e.fields,n=e.stats,r={start:n[0].date,end:n[n.length-1].date};return l.a.createElement("div",{style:{marginLeft:"1rem",marginRight:"1rem"}},l.a.createElement(x.a,{as:"h2"},l.a.createElement(w.a,{name:"chart line"}),l.a.createElement(x.a.Content,null,a.name,l.a.createElement(x.a.Subheader,null,"Id. ",a.id))),l.a.createElement(x.a,{as:"h3"},l.a.createElement(w.a,{name:"calendar alternate outline"}),r.start," to ",r.end," (",n.length-1," days)"),l.a.createElement(L.a,null),l.a.createElement(V,{project:a,fields:t,stats:n}),l.a.createElement(C,{fields:t,stats:n}),l.a.createElement(x.a,{as:"h2"},l.a.createElement(w.a,{name:"database"}),"Raw data"),l.a.createElement(O,{fields:t,stats:n}))}},{key:"render",value:function(){var e=this.state.stats;return l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(A.a,{textAlign:"center"},l.a.createElement(b,{onData:this.handleAnalytics}),l.a.createElement("b",null,"Note:")," your file is ",l.a.createElement("strong",null,"NOT")," uploaded to any server."),e&&this.renderAnalytics())}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(300);o.a.render(l.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[157,1,2]]]);
//# sourceMappingURL=main.dd829c96.chunk.js.map